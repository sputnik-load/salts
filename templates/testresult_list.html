{% extends "base.html" %}
{% load salts_tags %}
{% load endless %}
{% block container %}
  {% paginate 30 object_list %}
  <h3>Результаты тестов:</h3><br>
  <p id="status"></p>
  <table border="1">
    <thead>
      <tr>
        <td>Тест</td>
        <td>Нагружаемый сервис</td>
        <td>Версия</td>
        <td>RPS</td>
        <td>q99%</td>
        <td>q90%</td>
        <td>q50%</td>
        <td>Проц. ошибок http/net</td>
        <td>Длительность</td>
        <td>График</td>
        <td>Генератор</td>
        <td>ID теста</td>
        <td>Задача</td>
      </tr>
    </thead>
    <tbody>
      {% for object in object_list %}
        <tr name="result_line">
          <td name="test_name">{{ object.test_name }}</td>
          <td name="target">{{ object.target }}</td>
          <td name="version">{{ object.version }}</td>
          <td name="rps">{{ object.rps }}</td>
          <td name="q99">{{ object.q99 }}</td>
          <td name="q90">{{ object.q50 }}</td>
          <td name="q50">{{ object.q50 }}</td>
          <td name="http_net_perc">{{ object.http_errors_perc }}/{{ object.net_errors_perc }}</td>
          <td name="duration">{% duration object.dt_start object.dt_finish %}</td>
          <td name="graph">
            {% if object.graph_url %}
              <a href="{{ object.graph_url }}">График</a>
            {% else %}
              <p>Нет графика</p>
            {% endif %}
          </td>
          <td name="generator">{{ object.generator }}</td>
          <td name="test_id">{{ object.test_id }}</td>
          <td name="ticket_id">{{ object.ticket_id }}</td>
        </tr>
        {% endfor %}
    </tbody>
  </table>
  {% show_pages %}
{% endblock container %}

